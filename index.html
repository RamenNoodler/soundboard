<script>

let activeCategory = 1;

/* -------------------------
   CATEGORY SWITCH MAP
-------------------------- */

const categorySwitchMap = {
    Digit1: 1, Digit2: 2, Digit3: 3, Digit4: 4, Digit5: 5,
    Digit6: 6, Digit7: 7, Digit8: 8, Digit9: 9, Digit0: 10,

    KeyQ: 11, KeyW: 12, KeyE: 13, KeyR: 14, KeyT: 15,
    KeyY: 16, KeyU: 17, KeyI: 18, KeyO: 19, KeyP: 20
};

/* -------------------------
   GENERATE 20 PACKS
-------------------------- */

const categories = {};

for (let i = 1; i <= 20; i++) {
    categories[i] = {
        name: `Pack ${i}`,
        sounds: {
            KeyA: [`Sound A${i}`, `sounds/pack${i}/a.mp3`],
            KeyS: [`Sound S${i}`, `sounds/pack${i}/s.mp3`],
            KeyD: [`Sound D${i}`, `sounds/pack${i}/d.mp3`]
        }
    };
}

/* -------------------------
   UPDATE UI
-------------------------- */

function updateStatus() {
    document.getElementById("status").innerText =
        `Active Category: ${activeCategory} (${categories[activeCategory].name})`;
}

/* -------------------------
   KEY LISTENER
-------------------------- */

document.addEventListener("keydown", (e) => {

    // ðŸ” Switch Category (Ctrl + Shift + key)
    if (e.ctrlKey && e.shiftKey && categorySwitchMap[e.code]) {
        e.preventDefault(); // stops browser shortcut
        activeCategory = categorySwitchMap[e.code];
        updateStatus();
        console.log("Switched to Pack", activeCategory);
        return;
    }

    // ðŸ”Š Play Sound
    const currentPack = categories[activeCategory];
    const entry = currentPack.sounds[e.code];

    if (!entry) return;

    const [name, path] = entry;

    const audio = new Audio(path);
    audio.currentTime = 0;
    audio.play().catch(() => console.log("Missing:", path));

    console.log(`Played ${name}`);
});

updateStatus();

</script>
